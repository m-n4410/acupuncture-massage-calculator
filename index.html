<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è¨ªå•é¼ç¸ãƒãƒƒã‚µãƒ¼ã‚¸æ–™é‡‘è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ </title>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      padding: 20px; 
      max-width: 1200px; 
      margin: 0 auto;
    }
    .container { 
      display: grid; 
      grid-template-columns: 1fr 1fr; 
      gap: 20px; 
    }
    .section { 
      background: #f5f5f5; 
      padding: 20px; 
      border-radius: 10px; 
      margin-bottom: 20px;
    }
    .result { 
      background: #e3f2fd; 
      padding: 20px; 
      border-radius: 10px;
    }
    h1 { color: #333; text-align: center; }
    h3 { color: #555; margin-top: 0; }
    label { display: block; margin: 10px 0; cursor: pointer; }
    input[type="checkbox"], input[type="radio"] { margin-right: 10px; }
    .total { font-size: 24px; font-weight: bold; color: #1976d2; }
  </style>
</head>
<body>
  <h1>ğŸ¥ è¨ªå•é¼ç¸ãƒãƒƒã‚µãƒ¼ã‚¸æ–™é‡‘è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ </h1>
  
  <div class="container">
    <div>
      <div class="section">
        <h3>æ–½è¡“ç¨®åˆ¥</h3>
        <label>
          <input type="checkbox" id="massage"> ã‚ã‚“æ‘©ãƒãƒƒã‚µãƒ¼ã‚¸æŒ‡åœ§
        </label>
        <label>
          <input type="checkbox" id="acupuncture"> ã¯ã‚Šãƒ»ãã‚…ã†
        </label>
      </div>

      <div class="section">
        <h3>æ–½è¡“å ´æ‰€</h3>
        <label>
          <input type="radio" name="location" value="clinic" checked> é€šæ‰€ï¼ˆæ–½è¡“æ‰€ï¼‰
        </label>
        <label>
          <input type="radio" name="location" value="visit"> è¨ªå•
        </label>
      </div>

      <div id="massage-options" class="section" style="display: none;">
        <h3>ãƒãƒƒã‚µãƒ¼ã‚¸è¨­å®š</h3>
        <label>
          æ–½è¡“å±€æ‰€æ•°: <select id="massage-areas">
            <option value="1">1å±€æ‰€</option>
            <option value="2">2å±€æ‰€</option>
            <option value="3">3å±€æ‰€</option>
            <option value="4">4å±€æ‰€</option>
            <option value="5">5å±€æ‰€</option>
          </select>
        </label>
        <label>
          <input type="checkbox" id="hot-pack"> æ¸©ç½¨æ³•
        </label>
        <label>
          <input type="checkbox" id="massage-electric"> é›»æ°—å…‰ç·šå™¨å…·ä½µç”¨
        </label>
      </div>

      <div id="acupuncture-options" class="section" style="display: none;">
        <h3>é¼ç¸è¨­å®š</h3>
        <label>
          <input type="radio" name="acu-type" value="one" checked> 1è¡“
        </label>
        <label>
          <input type="radio" name="acu-type" value="two"> 2è¡“
        </label>
        <label>
          <input type="checkbox" id="acu-electric"> é›»ç™‚æ–™
        </label>
        <label>
          <input type="checkbox" id="initial-fee"> åˆæ¤œæ–™
        </label>
      </div>
    </div>

    <div>
      <div class="result">
        <h3>æ–™é‡‘è¨ˆç®—çµæœ</h3>
        <div class="total" id="total">Â¥0</div>
        <div id="breakdown"></div>
      </div>
    </div>
  </div>

  <script>
    const fees = {
      massage: { 1: 450, 2: 900, 3: 1350, 4: 1800, 5: 2250 },
      acupuncture: { one: 1610, two: 1770 },
      initialFee: { one: 1950, two: 2230 },
      hotPack: 180,
      hotPackElectric: 300,
      electric: 100
    };

    function updateDisplay() {
      const massage = document.getElementById('massage').checked;
      const acupuncture = document.getElementById('acupuncture').checked;
      
      document.getElementById('massage-options').style.display = massage ? 'block' : 'none';
      document.getElementById('acupuncture-options').style.display = acupuncture ? 'block' : 'none';
      
      calculateFee();
    }

    function calculateFee() {
      let total = 0;
      let breakdown = [];

      if (document.getElementById('massage').checked) {
        const areas = parseInt(document.getElementById('massage-areas').value);
        const massageFee = fees.massage[areas];
        total += massageFee;
        breakdown.push(`ãƒãƒƒã‚µãƒ¼ã‚¸ ${areas}å±€æ‰€: Â¥${massageFee.toLocaleString()}`);

        if (document.getElementById('hot-pack').checked) {
          if (document.getElementById('massage-electric').checked) {
            total += fees.hotPackElectric;
            breakdown.push(`æ¸©ç½¨æ³•ï¼ˆé›»æ°—ä½µç”¨ï¼‰: Â¥${fees.hotPackElectric.toLocaleString()}`);
          } else {
            total += fees.hotPack;
            breakdown.push(`æ¸©ç½¨æ³•: Â¥${fees.hotPack.toLocaleString()}`);
          }
        }
      }

      if (document.getElementById('acupuncture').checked) {
        const type = document.querySelector('input[name="acu-type"]:checked').value;
        const acuFee = fees.acupuncture[type];
        total += acuFee;
        breakdown.push(`é¼ç¸ ${type === 'one' ? '1è¡“' : '2è¡“'}: Â¥${acuFee.toLocaleString()}`);

        if (document.getElementById('initial-fee').checked) {
          const initialFee = fees.initialFee[type];
          total += initialFee;
          breakdown.push(`åˆæ¤œæ–™: Â¥${initialFee.toLocaleString()}`);
        }

        if (document.getElementById('acu-electric').checked) {
          total += fees.electric;
          breakdown.push(`é›»ç™‚æ–™: Â¥${fees.electric.toLocaleString()}`);
        }
      }

      document.getElementById('total').textContent = `Â¥${total.toLocaleString()}`;
      document.getElementById('breakdown').innerHTML = breakdown.map(item => `<div>${item}</div>`).join('');
    }

    // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
    document.getElementById('massage').addEventListener('change', updateDisplay);
    document.getElementById('acupuncture').addEventListener('change', updateDisplay);
    document.getElementById('massage-areas').addEventListener('change', calculateFee);
    document.getElementById('hot-pack').addEventListener('change', calculateFee);
    document.getElementById('massage-electric').addEventListener('change', calculateFee);
    document.getElementById('acu-electric').addEventListener('change', calculateFee);
    document.getElementById('initial-fee').addEventListener('change', calculateFee);
    document.querySelectorAll('input[name="acu-type"]').forEach(radio => {
      radio.addEventListener('change', calculateFee);
    });

    // åˆæœŸè¡¨ç¤º
    updateDisplay();
  </script>
</body>
</html>
